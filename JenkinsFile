pipeline {
    agent any
    environment {
        branch = 'main'
        scmUrl = 'https://github.com/dharmendra3671/Pipeline_jenkins.git'
        serverPort = '8080'
        developmentServer = 'dev-myproject.mycompany.com'
    }
    stages {
        stage('checkout git') {
            steps {
                git branch: branch, credentialsId: 'GitCredentials', url: scmUrl
            }
        }

        stage('build') {
            steps {
                bat 'Pythonzip.py'
            }
        }

        stage ('test') {
            steps {
                echo 'testing'
            }
        }

        stage('deploy'){
            steps {
                bat ''
            }
        }

    post {
        always {

                echo 'Status of build'
                emailext attachLog:true,
                subject: "Jenkins Pipeline Build Status",

                body:"${currentBuild.currentResult}: Job ${env.JOB_NAME} build ${env.BUILD_NUMBER}\n ${currentBuild.currentResult}: Job ${env.JOB_NAME} \n ${currentBuild.currentResult}: ${env.BUILD_TAG}",

                to:'kumar.dk3671@gmail.com'
        }
}
